import{o as n,c as m,w as u,r as h,a as s,t as i,b as a,d as _,e as g,f,g as p,v as b,F as l,h as y,i as v}from"./index.e231c7a4.js";const w={props:{id:String,title:String,description:String,price:Number,time:Date,image:String},data(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}},x=(r,o)=>{const e=r.__vccOpts||r;for(const[t,c]of o)e[t]=c;return e},k={class:"card text-center",style:{width:"18rem"}},S=["src"],j={class:"card-body"},D={class:"card-title"},F={class:"card-text"},M={class:"card-footer text-muted"},O={class:"card-subtitle mb-2 display-4"},B={key:0};function N(r,o,e,t,c,G){const d=h("router-link");return n(),m(d,{style:{textDecoration:"none",color:"black"},to:{name:"Item",params:{id:e.id}}},{default:u(()=>[s("div",k,[s("img",{src:e.image,class:"card-img-top",alt:"...",style:{"max-height":"12rem"}},null,8,S),s("div",j,[s("h2",D,i(e.title),1),s("p",F,i(e.description),1)]),s("div",M,[s("div",O,i(e.price)+"\xA3",1),e.time?(n(),a("span",B,"ends on "+i(e.time.getDate())+" "+i(c.months[e.time.getMonth()])+" "+i(e.time.getFullYear())+" at "+i((e.time.getHours()<10?"0":"")+e.time.getHours())+":"+i((e.time.getMinutes()<10?"0":"")+e.time.getMinutes()),1)):_("",!0)])])]),_:1},8,["to"])}const C=x(w,[["render",N]]),I=s("h1",{class:"h1 mb-3 text-dark text-center"},"Open Bids",-1),V={class:"container-xxl"},A=s("button",{type:"submit",class:"btn btn-primary"},"Search",-1),E={class:"row row-cols-auto g-5 justify-content-md-center"},J={class:"col list-unstyled"},T={data(){return{items:this.getItems(),filter:""}},methods:{async getItems(){const o=await(await fetch("http://localhost:8000/bidder/api/home/",{method:"GET",credentials:"include",mode:"cors",referrerPolicy:"no-referrer"})).json(),e=Object.values(o);this.items=e,console.log(e)},async getFilter(){console.log(this.filter);const o=await(await fetch(`http://localhost:8000/bidder/api/home/?filter=${this.filter}`,{method:"GET",credentials:"include",mode:"cors",referrerPolicy:"no-referrer"})).json(),e=Object.values(o);console.log(e),this.items=e}}},P=g({...T,__name:"index",setup(r){return(o,e)=>(n(),a(l,null,[I,s("div",V,[s("form",{onSubmit:e[1]||(e[1]=f((...t)=>o.getFilter&&o.getFilter(...t),["prevent"])),class:"row row-cols-auto justify-content-md-center mb-4"},[p(s("input",{type:"text",class:"form-control mb-2",placeholder:"Search","onUpdate:modelValue":e[0]||(e[0]=t=>o.filter=t)},null,512),[[b,o.filter]]),A],32),s("ul",E,[(n(!0),a(l,null,y(o.items,t=>(n(),a("li",J,[v(C,{id:t.id,title:t.title,description:t.description,price:t.price,time:new Date(t.final_date),image:`http://localhost:8000/static/${t.image_name}`},null,8,["id","title","description","price","time","image"])]))),256))])])],64))}});export{P as default};
