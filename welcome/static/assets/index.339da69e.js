import{o as n,c as m,w as u,r as h,a as s,t as o,b as a,d as _,e as g,f,g as p,v as b,F as l,h as y,i as v}from"./index.a6cde548.js";const w={props:{id:String,title:String,description:String,price:Number,time:Date,image:String},data(){return{months:["January","February","March","April","May","June","July","August","September","October","November","December"]}}},x=(r,i)=>{const t=r.__vccOpts||r;for(const[e,c]of i)t[e]=c;return t},k={class:"card text-center",style:{width:"18rem"}},S=["src"],j={class:"card-body"},D={class:"card-title"},F={class:"card-text"},M={class:"card-footer text-muted"},O={class:"card-subtitle mb-2 display-4"},B={key:0};function N(r,i,t,e,c,G){const d=h("router-link");return n(),m(d,{style:{textDecoration:"none",color:"black"},to:{name:"Item",params:{id:t.id}}},{default:u(()=>[s("div",k,[s("img",{src:t.image,class:"card-img-top",alt:"...",style:{"max-height":"12rem"}},null,8,S),s("div",j,[s("h2",D,o(t.title),1),s("p",F,o(t.description),1)]),s("div",M,[s("div",O,o(t.price)+"\xA3",1),t.time?(n(),a("span",B,"ends on "+o(t.time.getDate())+" "+o(c.months[t.time.getMonth()])+" "+o(t.time.getFullYear())+" at "+o((t.time.getHours()<10?"0":"")+t.time.getHours())+":"+o((t.time.getMinutes()<10?"0":"")+t.time.getMinutes()),1)):_("",!0)])])]),_:1},8,["to"])}const C=x(w,[["render",N]]),I=s("h1",{class:"h1 mb-3 text-dark text-center"},"Open Bids",-1),V={class:"container-xxl"},A=s("button",{type:"submit",class:"btn btn-primary"},"Search",-1),E={class:"row row-cols-auto g-5 justify-content-md-center"},J={class:"col list-unstyled"},T={data(){return{items:this.getItems(),filter:""}},methods:{async getItems(){const i=await(await fetch("http://localhost:8000/bidder/api/home/",{method:"GET",credentials:"include",mode:"cors",referrerPolicy:"no-referrer"})).json(),t=Object.values(i);this.items=t,console.log(t)},async getFilter(){console.log(this.filter);const i=await(await fetch(`http://localhost:8000/bidder/api/home/?filter=${this.filter}`,{method:"GET",credentials:"include",mode:"cors",referrerPolicy:"no-referrer"})).json(),t=Object.values(i);this.items=t}}},P=g({...T,__name:"index",setup(r){return(i,t)=>(n(),a(l,null,[I,s("div",V,[s("form",{onSubmit:t[1]||(t[1]=f((...e)=>i.getFilter&&i.getFilter(...e),["prevent"])),class:"row row-cols-auto justify-content-md-center mb-4"},[p(s("input",{type:"text",class:"form-control mb-2",placeholder:"Search","onUpdate:modelValue":t[0]||(t[0]=e=>i.filter=e)},null,512),[[b,i.filter]]),A],32),s("ul",E,[(n(!0),a(l,null,y(i.items,e=>(n(),a("li",J,[v(C,{id:e.id,title:e.title,description:e.description,price:e.price,time:new Date(e.final_date),image:`http://localhost:8000/static/${e.image_name}`},null,8,["id","title","description","price","time","image"])]))),256))])])],64))}});export{P as default};
